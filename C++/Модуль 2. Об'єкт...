<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Homework: Arrays and Objects</title>
</head>
<body>
    <h1>Homework Demo</h1>
    <div id="output"></div>

    <script>
//Завдання 1
        let shoppingList = [
            { name: "Bread", quantity: 2, bought: false },
            { name: "Milk", quantity: 1, bought: true },
            { name: "Eggs", quantity: 10, bought: false }
        ];

        function showList(list) {
            let notBought = list.filter(i => !i.bought);
            let bought = list.filter(i => i.bought);
            console.log("Shopping list:", [...notBought, ...bought]);
        }

        function addPurchase(list, product, qty) {
            let item = list.find(i => i.name === product);
            if (item) item.quantity += qty;
            else list.push({ name: product, quantity: qty, bought: false });
        }

        function buyProduct(list, product) {
            let item = list.find(i => i.name === product);
            if (item) item.bought = true;
        }

        showList(shoppingList);
        addPurchase(shoppingList, "Bread", 1);
        buyProduct(shoppingList, "Eggs");
        showList(shoppingList);

        // Завдання 2
        let receipt = [
            { name: "Bread", quantity: 2, price: 15 },
            { name: "Milk", quantity: 1, price: 25 },
            { name: "Eggs", quantity: 10, price: 3 }
        ];

        function showReceipt(r) {
            r.forEach(i => console.log(`${i.name} - ${i.quantity} × ${i.price}`));
        }

        function totalSum(r) {
            return r.reduce((s, i) => s + i.quantity * i.price, 0);
        }

        function mostExpensive(r) {
            return r.reduce((max, i) =>
                i.quantity * i.price > max.quantity * max.price ? i : max
            );
        }

        function averagePrice(r) {
            let totalItems = r.reduce((s, i) => s + i.quantity, 0);
            return totalSum(r) / totalItems;
        }

        showReceipt(receipt);
        console.log("Total sum:", totalSum(receipt));
        console.log("Most expensive purchase:", mostExpensive(receipt));
        console.log("Average item price:", averagePrice(receipt));

        // Завдання 3
        let styles = [
            { name: "color", value: "blue" },
            { name: "font-size", value: "20px" },
            { name: "text-align", value: "center" },
            { name: "text-decoration", value: "underline" }
        ];

        function applyStyles(styles, text) {
            let styleStr = styles.map(s => `${s.name}:${s.value}`).join("; ");
            document.write(`<p style="${styleStr}">${text}</p>`);
        }

        applyStyles(styles, "Hello, this is styled text!");

        // Завдання 4
        let classrooms = [
            { name: "Room 101", seats: 15, faculty: "Mathematics" },
            { name: "Room 202", seats: 20, faculty: "Physics" },
            { name: "Room 303", seats: 12, faculty: "Computer Science" }
        ];

        function showClassrooms(list) {
            console.log("All classrooms:", list);
        }

        function classroomsByFaculty(list, faculty) {
            return list.filter(c => c.faculty === faculty);
        }

        function suitableClassrooms(list, group) {
            return list.filter(c => c.seats >= group.students && c.faculty === group.faculty);
        }

        function sortBySeats(list) {
            return [...list].sort((a, b) => a.seats - b.seats);
        }

        function sortByName(list) {
            return [...list].sort((a, b) => a.name.localeCompare(b.name));
        }

        showClassrooms(classrooms);
        console.log("Classrooms for Physics faculty:", classroomsByFaculty(classrooms, "Physics"));

        let group = { name: "Group CS-21", students: 12, faculty: "Computer Science" };
        console.log("Suitable classrooms for group:", suitableClassrooms(classrooms, group));

        console.log("Sorted by seats:", sortBySeats(classrooms));
        console.log("Sorted by name:", sortByName(classrooms));
    </script>
</body>
</html>

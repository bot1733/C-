using System;
using System.Net.Http;
using System.Windows.Forms;
using System.IO;
using System.Net;
using System.Text;
using System.Threading.Tasks;

namespace CombinedApp
{
    public partial class Form1 : Form
    {
        private readonly HttpClient client = new HttpClient();

        public Form1()
        {
            InitializeComponent();
        }

        private async void btnSend_Click(object sender, EventArgs e)
        {
            try
            {
                string url = txtUrl.Text.Trim();

                if (string.IsNullOrWhiteSpace(url))
                {
                    MessageBox.Show("Введіть URL!");
                    return;
                }

                string html = await client.GetStringAsync(url);
                txtResult.Text = html;
            }
            catch (Exception ex)
            {
                MessageBox.Show("Помилка: " + ex.Message);
            }
        }
    }
}
namespace CombinedApp
{
    partial class Form1
    {
        private System.ComponentModel.IContainer components = null;

        private TextBox txtUrl;
        private Button btnSend;
        private TextBox txtResult;

        protected override void Dispose(bool disposing)
        {
            if (disposing && (components != null))
                components.Dispose();
            base.Dispose(disposing);
        }

        private void InitializeComponent()
        {
            this.txtUrl = new TextBox();
            this.btnSend = new Button();
            this.txtResult = new TextBox();

            this.txtUrl.Location = new System.Drawing.Point(12, 12);
            this.txtUrl.Size = new System.Drawing.Size(500, 23);

            this.btnSend.Location = new System.Drawing.Point(520, 12);
            this.btnSend.Size = new System.Drawing.Size(100, 23);
            this.btnSend.Text = "Send";
            this.btnSend.Click += new EventHandler(this.btnSend_Click);

           
            this.txtResult.Location = new System.Drawing.Point(12, 50);
            this.txtResult.Multiline = true;
            this.txtResult.ScrollBars = ScrollBars.Both;
            this.txtResult.Size = new System.Drawing.Size(608, 380);

            this.ClientSize = new System.Drawing.Size(632, 450);
            this.Controls.Add(this.txtUrl);
            this.Controls.Add(this.btnSend);
            this.Controls.Add(this.txtResult);
            this.Text = "HTTP Client";
        }
    }
}
namespace CombinedApp
{
    internal static class Program
    {
        [STAThread]
        static void Main()
        {
            ApplicationConfiguration.Initialize();
            Application.Run(new Form1());
        }
    }
}
namespace SimpleServer
{
    class ServerProgram
    {
        static async Task StartServer()
        {
            HttpListener listener = new HttpListener();
            listener.Prefixes.Add("http://localhost:8080/");
            listener.Start();

            Console.WriteLine("Сервер працює на http://localhost:8080/");
            Console.WriteLine("Для виходу — закрий вікно.");

            while (true)
            {
                HttpListenerContext context = await listener.GetContextAsync();
                HttpListenerResponse response = context.Response;

                try
                {
                    string html = File.ReadAllText("index.html", Encoding.UTF8);
                    byte[] buffer = Encoding.UTF8.GetBytes(html);

                    response.ContentType = "text/html";
                    response.ContentLength64 = buffer.Length;

                    await response.OutputStream.WriteAsync(buffer, 0, buffer.Length);
                }
                catch (Exception ex)
                {
                    byte[] errorMessage = Encoding.UTF8.GetBytes("Помилка: " + ex.Message);
                    await response.OutputStream.WriteAsync(errorMessage, 0, errorMessage.Length);
                }

                response.OutputStream.Close();
            }
        }
    }
}
<!DOCTYPE html>
<html>
   <body>
       <h1>Привіт! Це HTML-сторінка з файлу.</h1>
   </body>
</html>
